<!-- USING EXTERNAL DATA USING TRADITIONAL .THEN FORMAT-->

<h1>Users:</h1>
<ul></ul>

<script>
<
    // // //USING ASYNC AWAIT WITH THE FETCH API (RETRIEVE JSON) USING INTERNAL DATA FOLDER (DATA USERS.JSON)

    async function loadUsers() {
        // const response = await fetch("data/users.json");
        // const users = await response.json();
        // return users;
        // OR
        return (await fetch("data/users.json")).json();
}

    document.addEventListener("DOMContentLoaded", async () => {
            let users = []
        try {
            users = await loadUsers();
        } catch (e) {
            console.log("Error!");
            console.log(e);
        }

        console.log(users);
    });





    fetch("https://jsonplaceholder.typicode.com/users")
    .then(res => {
        return res.json();
    }).then(data => {
        data.forEach(user => {
            const markup = `<li>${user.name}</li>`;

            document.querySelector("ul").insertAdjacentHTML("beforeend", markup);
        })
    }) .catch(error => console.log(error));
</script>


<!-- USING EXTERNAL DATA WITH ASYNC AWAIT INSTEAD OF .THEN  -->

<script>
    async function fetchData() {
      try {
        const res = await fetch("https://jsonplaceholder.typicode.com/users");
        const data = await res.json();
        
        data.forEach(user => {
          const markup = `<li>${user.name}</li>`;
          document.querySelector("ul").insertAdjacentHTML("beforeend", markup);
        });
        
      } catch (error) {
        console.log(error);
      }
    }
    
    fetchData();
  </script>